# OpenSpawn Environment Configuration
# Copy this file to .env and fill in the values

# =============================================================================
# DATABASE
# =============================================================================
DATABASE_URL=postgresql://openspawn:openspawn@localhost:5432/openspawn
POSTGRES_USER=openspawn
POSTGRES_PASSWORD=openspawn
POSTGRES_DB=openspawn

# =============================================================================
# SECURITY
# =============================================================================
# 32-byte hex key for AES-256-GCM encryption of agent HMAC secrets and TOTP secrets
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=

# JWT secret for user authentication
# Generate with: openssl rand -hex 64
JWT_SECRET=

# Default organization ID (for single-org deployments)
# Leave empty for multi-org mode where orgId must be provided on login
DEFAULT_ORG_ID=

# =============================================================================
# GOOGLE OAUTH (Optional)
# =============================================================================
# Get credentials at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:3000/auth/google/callback

# =============================================================================
# EMAIL (Optional - for password reset, invites)
# =============================================================================
# SMTP configuration (works with any provider: Resend, SendGrid, AWS SES, etc.)
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
SMTP_FROM=OpenSpawn <noreply@example.com>

# =============================================================================
# API
# =============================================================================
API_PORT=3000
NODE_ENV=development

# Comma-separated list of allowed CORS origins
# Default: http://localhost:4200,http://localhost:5173
ALLOWED_ORIGINS=http://localhost:4200,http://localhost:5173

# Rate limiting (requests per time window)
# TTL in milliseconds (default: 60000 = 1 minute)
THROTTLE_TTL=60000
# Max requests per TTL window (default: 100)
THROTTLE_LIMIT=100

# =============================================================================
# MCP SERVER
# =============================================================================
MCP_PORT=3001

# =============================================================================
# LITELLM (LLM Proxy)
# =============================================================================
LITELLM_MASTER_KEY=sk-openspawn-dev
LITELLM_PORT=4000

# Shared secret for LiteLLM callback authentication
# Generate with: openssl rand -hex 32
LITELLM_CALLBACK_SECRET=

# OpenSpawn API URL for LiteLLM callbacks (defaults to http://localhost:3000 for dev)
OPENSPAWN_API_URL=http://localhost:3000

# Model provider API keys (configure at least one)
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
# OPENROUTER_API_KEY=

# =============================================================================
# LANGFUSE (Observability)
# =============================================================================
LANGFUSE_SECRET_KEY=sk-lf-openspawn
LANGFUSE_PUBLIC_KEY=pk-lf-openspawn
LANGFUSE_HOST=http://localhost:3002
LANGFUSE_DATABASE_URL=postgresql://openspawn:openspawn@localhost:5432/langfuse

# =============================================================================
# DASHBOARD
# =============================================================================
VITE_API_URL=http://localhost:3000/graphql
VITE_WS_URL=ws://localhost:3000/graphql

# Frontend URL (for OAuth callback redirects)
FRONTEND_URL=http://localhost:4200
